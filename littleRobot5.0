#include <mbed.h>
#include <C12832.h>
#include <FXOS8700Q.h>



// Using Arduino pin notation
C12832 lcd(D11, D13, D12, D7, D10);
I2C i2c(PTE25, PTE24);
FXOS8700QAccelerometer acc(i2c, FXOS8700CQ_SLAVE_ADDR1);
Serial pc(USBTX, USBRX);
int main()
{
  motion_data_units_t acc_data;

    acc.enable();


    int j=0;
    lcd.cls();
    lcd.locate(0,0);
    lcd.printf("mbed application shield!");
    lcd.locate(0,10);
    lcd.printf("char %dx%d : %dx%d pixels",
               lcd.columns(), lcd.rows(),
               lcd.width(), lcd.height() );

    while(true) {
      lcd.cls();
        acc.getAxis(acc_data);
        lcd.circle(((acc_data.x)*100)+60, ((acc_data.y)*-100)+18, 14, 1);
        lcd.circle(((acc_data.x)*100)+60, ((acc_data.y)*-100)+18, 10, 1);
        lcd.fillcircle(((acc_data.x)*100)+60, ((acc_data.y)*-100)+18, 6, 1);
        lcd.locate(0,20);
        // lcd.printf("Counting : %4d",acc_data.x);
        j++;
        wait(0.1);
    }
}
